name: Deploy static content to Pages

on:
  # Chạy khi có thay đổi trên nhánh mặc định
  push:
    branches: ["main"]

  # Cho phép bạn chạy workflow này thủ công từ tab Actions
  workflow_dispatch:

# Thiết lập quyền của GITHUB_TOKEN để cho phép triển khai lên GitHub Pages
permissions:
  contents: read
  pages: write

# Cho phép chỉ một triển khai đồng thời, bỏ qua các chạy đợi giữa chạy đang diễn ra và chạy đợi mới nhất.
# Tuy nhiên, KHÔNG hủy bỏ các chạy đang diễn ra vì chúng ta muốn cho phép các triển khai sản xuất này hoàn thành.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # Một công việc triển khai duy nhất vì chúng ta chỉ triển khai
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Tải lên toàn bộ repository
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
